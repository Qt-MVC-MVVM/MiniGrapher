# View 设计报告

### 设计思路及解决方案

三个层次的功能实现

* 需要两个基本界面：初始入口、主窗口界面

  使用`Qt Designer`直接实现

  初始入口界面和主窗口界面的跳转（Intial类）

* 主窗口界面中画图区域需实现缩放、拖动、更名等交互功能

  重定义鼠标响应事件函数，并根据鼠标动作设计响应（MainWindow类）

* 主窗口界面中自定义画图的画笔、笔刷颜色

  画笔：颜色、宽度、线条样式（PenTool类）

  笔刷：颜色、填充样式（BrushTool类）

### 迭代效果图

##### 第一次迭代

实现简单主窗口设计

![第一次迭代主窗口设计](https://github.com/CcCody/MiniGrapher/raw/master/Doc/DocImages/Veiw001.png)

##### 第二次迭代

完成初始化界面入口设计，编写函数实现初始化界面和主窗口界面的切换



![初始化界面入口设计](https://github.com/CcCody/MiniGrapher/raw/master/Doc/DocImages/View002.png)

优化主窗口界面，添加相应按钮布局

![优化主窗口，设计相应按钮布局](https://github.com/CcCody/MiniGrapher/raw/master/Doc/DocImages/View003.png)

##### 第三次迭代

添加函数输入框，图像绘制显示部分，编写函数实现图像绘制的基本操作，并将槽函数和相应UI进行绑定

![第三次迭代主窗口](https://github.com/CcCody/MiniGrapher/raw/master/Doc/DocImages/View004.png)

##### 第四次迭代

修改主窗口UI界面，将`Submit`按钮替换为上下界输入框，原功能与`Add Graph`按钮合并

![第四次迭代主窗口](C:https://github.com/CcCody/MiniGrapher/raw/master/Doc/DocImages/View011.png)

##### 第五次迭代（最终运行效果）

实现选中函数图像的画笔、阴影颜色自定义功能，并添加相应按钮，进一步优化界面，修改显示字体

![第五次迭代初始入口](https://github.com/CcCody/MiniGrapher/raw/master/Doc/DocImages/View005.png)

![第五次迭代主窗口](https://github.com/CcCody/MiniGrapher/raw/master/Doc/DocImages/View006.png)

细节功能效果

选中相应函数图形，`Selected`区域、`Differetial`区域和`Integral`区域都发生相应变化，主窗口下方显示绘制成功消息

![最终效果细节图选中](https://github.com/CcCody/MiniGrapher/raw/master/Doc/DocImages/View007.png)

双击绘图区域标题、坐标轴可进行更名操作，可在`Selected`区域使用`Label`输入框对选中函数图像进行更名操作

![最终效果细节图更名](https://github.com/CcCody/MiniGrapher/raw/master/Doc/DocImages/View008.png)

设置画笔颜色、宽度、线条样式，笔刷阴影部分颜色、填充样式

![最终效果图颜色](https://github.com/CcCody/MiniGrapher/raw/master/Doc/DocImages/View009.png)

右键标注区域可设置标注出现在绘图区域的位置

![最终效果图标注](https://github.com/CcCody/MiniGrapher/raw/master/Doc/DocImages/View010.png)

右键空白绘图区可选择添加随机函数图像、清除所有函数图像（与`Series`区域按钮功能一致），选中相应函数右键可选择添加随机函数图像、清除选中函数图象、清楚所有函数图像

### 本课程心得体会

* 学习到了MVVM的编程模式，各个模块相互独立，这一优异的特性使得整个项目能够并行化进行
* 进一步掌握了Qt的基本使用，熟悉了Qt所带库中的常用类，能够进行有效地开发
* GitHub和appveyor的使用帮助项目工程持续集成，能够更有效地进行团队协作，并有助于及时发现问题

### 对课程的改进意见

* 课程前几日的节奏可以更为紧凑，特别是对于MVVM的深入讲解。
* 总体来说，课程还是非常不错，能够学到很多东西。辛苦老师了！